!function(e){function t(t){for(var r,a,c=t[0],s=t[1],u=t[2],f=0,h=[];f<c.length;f++)a=c[f],o[a]&&h.push(o[a][0]),o[a]=0;for(r in s)Object.prototype.hasOwnProperty.call(s,r)&&(e[r]=s[r]);for(l&&l(t);h.length;)h.shift()();return i.push.apply(i,u||[]),n()}function n(){for(var e,t=0;t<i.length;t++){for(var n=i[t],r=!0,c=1;c<n.length;c++){var s=n[c];0!==o[s]&&(r=!1)}r&&(i.splice(t--,1),e=a(a.s=n[0]))}return e}var r={},o={0:0},i=[];function a(t){if(r[t])return r[t].exports;var n=r[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,a),n.l=!0,n.exports}a.m=e,a.c=r,a.d=function(e,t,n){a.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},a.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},a.t=function(e,t){if(1&t&&(e=a(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(a.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)a.d(n,r,function(t){return e[t]}.bind(null,r));return n},a.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return a.d(t,"a",t),t},a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},a.p="";var c=window.webpackJsonp=window.webpackJsonp||[],s=c.push.bind(c);c.push=t,c=c.slice();for(var u=0;u<c.length;u++)t(c[u]);var l=s;i.push([1422,1]),n()}({1422:function(e,t,n){"use strict";n.r(t);var r=n(3),o=n.n(r),i=n(527),a=n.n(i),c=n(528),s=n.n(c),u=n(529),l=n.n(u),f=n(530),h=n.n(f),d=n(531),p=n.n(d),y=n(532),b=n.n(y);function m(e){return(m="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function g(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function w(e,t){return!t||"object"!==m(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function v(e){return(v=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function O(e,t){return(O=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var P=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),w(this,v(t).call(this,{key:"Boot"}))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&O(e,t)}(t,o.a.Scene),function(e,t,n){t&&g(e.prototype,t),n&&g(e,n)}(t,[{key:"preload",value:function(){var e=this,t=this.add.graphics();this.load.on("progress",function(n){t.clear(),t.fillStyle(16777215,.75),t.fillRect(0,e.game.renderer.height/2,e.game.renderer.width*n,100)}),this.load.image("logo",a.a),this.load.image("mushroom",s.a),this.load.image("cardBackground",l.a),this.load.image("pileBg",h.a),this.load.image("goblin",p.a),this.load.image("goobler",b.a)}},{key:"create",value:function(){this.scene.start("Game")}}]),t}();function k(e){return(k="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function j(e){return(j=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function S(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function C(e,t){return(C=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var _=function(e){function t(e,n,r){var o;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),o=function(e,t){return!t||"object"!==k(t)&&"function"!=typeof t?S(e):t}(this,j(t).call(this,e,n,r,"logo")),e.add.existing(S(o)),o}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&C(e,t)}(t,o.a.GameObjects.Image),t}();function x(e){return(x="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function T(e){return(T=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function D(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function E(e,t){return(E=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var G=function(e){function t(e,n,r){var o;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),o=function(e,t){return!t||"object"!==x(t)&&"function"!=typeof t?D(e):t}(this,T(t).call(this,e,n,r,"pileBg")),e.add.existing(D(o)),o}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&E(e,t)}(t,o.a.GameObjects.Sprite),t}();function A(e){return(A="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function H(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function R(e,t){return!t||"object"!==A(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function B(e){return(B=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function W(e,t){return(W=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var I=function(e){function t(e,n,r,o,i){var a;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(a=R(this,B(t).call(this,e,n,r,"cardBackground"))).rarity=i,a.create(),a}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&W(e,t)}(t,o.a.GameObjects.Image),function(e,t,n){t&&H(e.prototype,t),n&&H(e,n)}(t,[{key:"resetTint",value:function(){"common"===this.rarity?this.tint=5592405:"rare"===this.rarity&&(this.tint=11184810)}},{key:"create",value:function(){this.scene.add.existing(this),this.resetTint()}}]),t}();function M(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var L=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){M(e,t,n[t])})}return e}({},{strike:{nameRef:"strike",name:"Strike",selector:"single",actions:{doDamage:{damage:6}},type:"attack",baseCost:1,currentCost:1,props:{playable:!0},description:function(){return"Deal ".concat(this.actions.doDamage.damage," damage.")},rarity:"common"},doubleStrike:{nameRef:"doubleStrike",name:"Double Strike",selector:"single",actions:{doDamage:{damage:6,timesHit:2}},type:"attack",baseCost:1,currentCost:1,props:{playable:!0},description:function(){return"Deal ".concat(this.actions.doDamage.damage," damage \n").concat(this.actions.doDamage.timesHit," times to all enemies.")},rarity:"common"},wildElbow:{nameRef:"wildElbow",name:"Wild Elbow",selector:"random",actions:{doDamage:8},type:"attack",baseCost:"random",currentCost:null,props:{playable:!0},description:function(){return"Deal ".concat(this.actions.doDamage," damage \nto a random target.")},rarity:"common"}},{defend:{nameRef:"defend",name:"Defend",selector:"self",actions:{addArmor:6},baseCost:1,currentCost:1,type:"spell",props:{playable:!0},description:function(){return"Gain ".concat(this.actions.addArmor," armor")},rarity:"common"},dodge:{nameRef:"dodge",name:"Dodge",selector:"self",actions:{addArmor:6,drawCard:1},baseCost:2,currentCost:2,type:"spell",props:{playable:!0},description:function(e){var t=e.dexterity;return"Gain ".concat(this.actions.addArmor+t>=0?this.actions.addArmor+t:0," armor, \ndraw ").concat(this.actions.drawCard," card")},rarity:"common"}});function N(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var z=function(){function e(t,n,r,o){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.scene=t,this.action=n,this.value=r,this.target=o,this[n](r,o)}return function(e,t,n){t&&N(e.prototype,t),n&&N(e,n)}(e,[{key:"addArmor",value:function(e){this.scene.player.armor+=e+this.scene.player.dexterity}},{key:"drawCard",value:function(e){this.scene.drawCardFromDrawPile(e)}},{key:"doDamage",value:function(e,t){for(var n=e.damage,r=e.timesHit,o=void 0===r?1:r,i=0;i<=o;i++)t.active&&t.takeDamage(n)}}]),e}(),F={strike:8,dodge:8};function Y(e){return(Y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function J(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function X(e,t){return!t||"object"!==Y(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function U(e){return(U=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function q(e,t){return(q=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var K=function(e){function t(e,n,r,o,i,a){var c;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(c=X(this,U(t).call(this,r,o,i,a))).scene=e,c.graphics=e.add.graphics({lineStyle:{width:8,color:16711680,alpha:.5}}),c}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&q(e,t)}(t,o.a.Geom.Line),function(e,t,n){t&&J(e.prototype,t),n&&J(e,n)}(t,[{key:"update",value:function(e,t){this.delete(),this.x2=e,this.y2=t,this.graphics=this.scene.add.graphics({lineStyle:{width:8,color:16711680,alpha:.5}}),this.line=this.scene.add.existing(this),this.graphics.strokeLineShape(this.line)}},{key:"delete",value:function(){this.graphics&&this.graphics.destroy()}}]),t}();var Q=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){var t=16*Math.random()|0;return("x"==e?t:3&t|8).toString(16)})};function V(e){return(V="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Z(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function $(e){return($=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function ee(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function te(e,t){return(te=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var ne=function(e){function t(e,n,r,o,i){var a;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(a=function(e,t){return!t||"object"!==V(t)&&"function"!=typeof t?ee(e):t}(this,$(t).call(this,e,n,r))).scene=e,a.card=o,e.add.existing(ee(a)),a.player=e.player,a.getBackground(),a.getCardTitle(),a.getDescription(),a.getManaCost(),a.setSize(a.background.width,a.background.height).setInteractive({draggable:!0}),i&&(a.getManaOutline(),a.setEventListeners()),a}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&te(e,t)}(t,o.a.GameObjects.Container),function(e,t,n){t&&Z(e.prototype,t),n&&Z(e,n)}(t,[{key:"setEventListeners",value:function(){var e=this;this.on("pointerover",function(){this.y=this.scene.dimensions.height-110,this.scene.children.bringToTop(this),this.angle=0}),this.on("pointerout",function(e,t){this.y=this.handY,this.angle=this.handAngle}),this.on("dragstart",function(e,t){this.setScale(1.2),this.scene.children.bringToTop(t)});var t,n=!1;this.on("drag",function(r,o,i){e.angle=0,e.x=r.x,e.y=r.y,"single"===e.card.selector&&(e.y<=700&&!1===n&&(n=!0,t=new K(e.scene,r,e.scene.dimensions.width/2,e.scene.dimensions.height/1.2,r.x,r.y)),n&&(e.x=e.scene.dimensions.width/2,e.y=e.scene.dimensions.height-e.height,t.update(r.x,r.y)),r.y>=700&&!0===n&&(t&&t.delete(),n=!1))}),this.on("dragend",function(r,o){e.background.resetTint(),r.y<=500?n?e.scene.cardTarget?e.playCard(e.scene.cardTarget):(e.setScale(1),e.scene.manageHand()):e.playCard():(e.setScale(1),e.scene.manageHand()),t&&t.delete(),n=!1})}},{key:"getBackground",value:function(){this.background&&this.background.destroy();var e=new I(this.scene,0,0,"cardBackground",this.card.rarity);this.background=e,this&&this.add(this.background)}},{key:"getCardTitle",value:function(e){this.cardTitle&&this.cardTitle.destroy();var t={font:"".concat(12,"pt Arial"),fill:"white",align:"center",wordWrap:!0,wordWrapWidth:20},n=this.scene.add.text(0,-this.background.height/2.5,e||this.card.name,t).setOrigin(.5);this.cardTitle=n,this&&this.add(this.cardTitle)}},{key:"getDescription",value:function(){this.cardDescription&&this.cardDescription.destroy();var e={font:"".concat(12,"pt Arial"),fill:"white",align:"center",wordWrap:!0,wordWrapWidth:20},t=this.scene.add.text(0,this.background.height/5,this.card.description(this.player),e).setOrigin(.5);t.lineHeight=50,t.width>this.background.width&&(e={font:"10pt Arial",fill:"white",align:"center",wordWrap:!0,wordWrapWidth:20},t=this.scene.add.text(0,this.background.height/5,this.card.description(this.player),e).setOrigin(.5)),this.cardDescription=t,this&&this.add(this.cardDescription)}},{key:"getManaCost",value:function(){this.manaCost&&this.manaCost.destroy();var e=new o.a.Geom.Circle(-this.background.width/2,-this.background.height/2,20),t=new o.a.GameObjects.Graphics(this.scene);t.fillStyle(255),t.fillCircleShape(e);var n={font:"".concat(24,"pt Arial"),fill:"white",align:"center",wordWrap:!0,wordWrapWidth:20},r=this.scene.add.text(-this.background.width/2,-this.background.height/2,this.card.currentCost,n).setOrigin(.5);this.manaCost=r,this.manaCost&&(this.add(t),this.add(this.manaCost))}},{key:"getManaOutline",value:function(){var e=new o.a.GameObjects.Graphics(this.scene);e.fillStyle(65280,.6),e.fillRoundedRect((-this.background.width-10)/2,(-this.background.height-10)/2,this.background.width+10,this.background.height+10,5),this.manaOutline=e,this.add(this.manaOutline),this.sendToBack(this.manaOutline),this.scene.tweens.add({duration:1e3,targets:this.manaOutline,alpha:.8,scaleX:.99,scaleY:.99,yoyo:!0,repeat:-1,ease:"Sine.easeInOut"})}},{key:"cantPlay",value:function(){var e=this;this.cantPlayOutline&&this.cantPlayOutline.destroy();var t={font:"".concat(20,"pt Arial"),fill:"white",align:"center",wordWrap:!0,wordWrapWidth:20},n=this.scene.add.text(this.scene.dimensions.width/2,this.scene.dimensions.height/2,"You are out of mana!",t).setOrigin(.5),r=new o.a.GameObjects.Graphics(this.scene);r.fillStyle(16711680,.6),r.fillRoundedRect((-this.background.width-10)/2,(-this.background.height-10)/2,this.background.width+10,this.background.height+10,5),this.cantPlayOutline=r,this.add(this.cantPlayOutline),this.sendToBack(this.cantPlayOutline),this.scene.time.addEvent({delay:750,callback:function(){n.destroy(),e.cantPlayOutline.destroy()},callbackScope:this})}},{key:"playCard",value:function(e){var t=this;if(this.player.currentMana>=this.card.currentCost&&null!==this.card.currentCost){switch(this.card.selector){case"self":Object.keys(this.card.actions).forEach(function(e){var n=t.card.actions[e];new z(t.scene,e,n)});break;case"single":Object.keys(this.card.actions).forEach(function(n,r){if(t.scene.cardTarget){var o=t.card.actions[n];new z(t.scene,n,o,e)}})}this.player.currentMana-=this.card.currentCost,this.scene.tweens.add({duration:150,targets:this,alpha:0,scale:.1,x:this.scene.discardPileDisplay.x,y:this.scene.discardPileDisplay.y,repeat:0,ease:"Sine.easeInOut",onComplete:function(){t.scene.discard(t.card),t.scene.handArray=t.scene.handArray.filter(function(e){return e.card.id!==t.card.id}),t.scene.cardTarget=!1,t.scene.manageHand(),t.destroy()}})}else this.scene.manageHand(),this.setScale(1),this.cantPlay()}},{key:"update",value:function(){("Game"===this.scene.scene.key&&this.player.currentMana<this.card.currentCost||null===this.card.currentCost)&&this.manaOutline&&this.manaOutline.destroy()}}]),t}();function re(e){return(re="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function oe(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ie(e){return(ie=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function ae(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ce(e,t){return(ce=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var se=function(e){function t(e,n,r){var o;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(o=function(e,t){return!t||"object"!==re(t)&&"function"!=typeof t?ae(e):t}(this,ie(t).call(this,e,n,r))).scene=e,o.scene.add.existing(ae(o)),o.getBackground(),o.updateDrawPileCounter(),o.setSize(o.background.width,o.background.height).setInteractive(),o.setEventListeners(),o}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ce(e,t)}(t,o.a.GameObjects.Container),function(e,t,n){t&&oe(e.prototype,t),n&&oe(e,n)}(t,[{key:"setEventListeners",value:function(){var e=this;this.on("pointerover",function(t){e.background.tint=65280}),this.on("pointerout",function(t){e.background.tint=16777215}),this.on("pointerdown",function(t){Object.keys(e.scene.drawPile).length>=1&&(e.scene.scene.pause(),e.scene.scene.launch("DrawPileScene",e.scene))})}},{key:"updateDrawPileCounter",value:function(){this.drawPileCounterCircle&&(this.drawPileCounterCircle.countGraphics.destroy(),this.drawPileCounterCircle.countNumber.destroy()),this.drawPileCounterCircle={};var e=Object.keys(this.scene.drawPile).length;this.drawPileCounterCircle.countCircle=new o.a.Geom.Circle(0,0,40),this.drawPileCounterCircle.countGraphics=new o.a.GameObjects.Graphics(this.scene),this.drawPileCounterCircle.countGraphics.fillStyle(255,.3),this.drawPileCounterCircle.countGraphics.fillCircleShape(this.drawPileCounterCircle.countCircle);var t={font:"".concat(36,"pt Arial"),fill:"white",align:"center",wordWrap:!0,wordWrapWidth:20};this.drawPileCounterCircle.countNumber=this.scene.add.text(0,0,e,t).setOrigin(.5),this.add(this.drawPileCounterCircle.countGraphics),this.add(this.drawPileCounterCircle.countNumber)}},{key:"getBackground",value:function(){this.background&&this.background.destroy(),this.background=new G(this.scene),this.add(this.background)}}]),t}();function ue(e){return(ue="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function le(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function fe(e){return(fe=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function he(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function de(e,t){return(de=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var pe=function(e){function t(e,n,r){var o;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(o=function(e,t){return!t||"object"!==ue(t)&&"function"!=typeof t?he(e):t}(this,fe(t).call(this,e,n,r))).scene=e,o.scene.add.existing(he(o)),o.getBackground(),o.updateDiscardPileCounter(),o.setSize(o.background.width,o.background.height).setInteractive(),o.setEventListeners(),o}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&de(e,t)}(t,o.a.GameObjects.Container),function(e,t,n){t&&le(e.prototype,t),n&&le(e,n)}(t,[{key:"setEventListeners",value:function(){var e=this;this.on("pointerover",function(t){e.background.tint=16724787}),this.on("pointerout",function(t){e.background.tint=16742263}),this.on("pointerdown",function(t){Object.keys(e.scene.discardPile).length>=1&&(e.scene.scene.pause(),e.scene.scene.launch("DiscardPileScene",e.scene))})}},{key:"updateDiscardPileCounter",value:function(){this.discardPileCounterCircle&&(this.discardPileCounterCircle.countGraphics.destroy(),this.discardPileCounterCircle.countNumber.destroy()),this.discardPileCounterCircle={};var e=Object.keys(this.scene.discardPile).length;this.discardPileCounterCircle.countCircle=new o.a.Geom.Circle(0,0,40),this.discardPileCounterCircle.countGraphics=new o.a.GameObjects.Graphics(this.scene),this.discardPileCounterCircle.countGraphics.fillStyle(255,.3),this.discardPileCounterCircle.countGraphics.fillCircleShape(this.discardPileCounterCircle.countCircle);var t={font:"".concat(36,"pt Arial"),fill:"white",align:"center",wordWrap:!0,wordWrapWidth:20};this.discardPileCounterCircle.countNumber=this.scene.add.text(0,0,e,t).setOrigin(.5),this.add(this.discardPileCounterCircle.countGraphics),this.add(this.discardPileCounterCircle.countNumber)}},{key:"getBackground",value:function(){this.background&&this.background.destroy(),this.background=new G(this.scene),this.background.tint=16742263,this.add(this.background)}}]),t}();function ye(e){return(ye="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function be(e){return(be=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function me(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ge(e,t){return(ge=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var we=function(e){function t(e,n,r,o){var i;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),i=function(e,t){return!t||"object"!==ye(t)&&"function"!=typeof t?me(e):t}(this,be(t).call(this,e,n,r,o)),e.add.existing(me(i)).setOrigin(.5),i}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ge(e,t)}(t,o.a.GameObjects.Sprite),t}(),ve={goblin:{nameRef:"goblin",name:"Goblin",maxHealth:30,currentHealth:30,actions:{doDamage:7,defend:10,addAttribute:["strength",3]},onDeath:null,reward:null,powerLevel:1},goobler:{nameRef:"goobler",name:"Goobler",maxHealth:15,currentHealth:15,actions:{doDamage:7,defend:10,addAttribute:["strength",3]},onDeath:null,reward:null,powerLevel:1}};function Oe(e){return(Oe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Pe(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ke(e,t){return!t||"object"!==Oe(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function je(e){return(je=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Se(e,t){return(Se=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Ce=function(e){function t(e,n,r,o,i){var a;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(a=ke(this,je(t).call(this,e,n,r))).scene=e,a.parentContainer=o,a.character=i,a.create(),a}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Se(e,t)}(t,o.a.GameObjects.GameObject),function(e,t,n){t&&Pe(e.prototype,t),n&&Pe(e,n)}(t,[{key:"create",value:function(){var e=new o.a.Geom.Rectangle(-this.parentContainer.enemyImage.width/2,this.parentContainer.enemyImage.height/2,this.parentContainer.enemyImage.width,20),t=new o.a.GameObjects.Graphics(this.scene).fillStyle(16711680,.2).fillRectShape(e);this.parentContainer.add(t),this.healthBarShape=o.a.Geom.Rectangle.Clone(e);var n={font:"".concat(12,"pt Arial"),fill:"white",align:"center",wordWrap:!0,wordWrapWidth:20};this.healthText=this.scene.add.text(this.parentContainer.width/2,this.parentContainer.enemyImage.height/2+10,"",n).setOrigin(.5),this.update()}},{key:"update",value:function(){this.healthBarGraphics&&this.healthBarGraphics.destroy(),this.healthBarShape.width=this.character.currentHealth/this.character.maxHealth*this.parentContainer.enemyImage.width,this.healthBarGraphics=new o.a.GameObjects.Graphics(this.scene).fillStyle(16711680,1).fillRectShape(this.healthBarShape),this.parentContainer.add(this.healthBarGraphics),this.healthText.setText("".concat(this.character.currentHealth,"/").concat(this.character.maxHealth)),this.parentContainer.add(this.healthText),this.parentContainer.bringToTop(this.healthText),this.character.armor>=1&&this.healthBarGraphics.fillStyle(3355443,1)}}]),t}();function _e(e){return(_e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function xe(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Te(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function De(e){return(De=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Ee(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Ge(e,t){return(Ge=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Ae=function(e){function t(e,n,r,o){var i;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(i=function(e,t){return!t||"object"!==_e(t)&&"function"!=typeof t?Ee(e):t}(this,De(t).call(this,e,n,r))).scene=e,i.enemy=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){xe(e,t,n[t])})}return e}({},ve[o]),i.create(),e.add.existing(Ee(i),n,r).setSize(i.enemyImage.width+100,i.enemyImage.height+100).setInteractive(),i.setEventListeners(),i}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ge(e,t)}(t,o.a.GameObjects.Container),function(e,t,n){t&&Te(e.prototype,t),n&&Te(e,n)}(t,[{key:"setEventListeners",value:function(){var e=this;this.on("pointerover",function(){e.enemyImage.tint=16737894,e.scene.cardTarget||(e.scene.cardTarget=e)}),this.on("pointerout",function(){e.enemyImage.tint=16777215,e.scene.cardTarget=!1})}},{key:"create",value:function(){this.enemyImage=new we(this.scene,0,0,this.enemy.nameRef),this.add(this.enemyImage),this.healthBar=new Ce(this.scene,20,20,this,this.enemy),this.healthBar.update()}},{key:"updateEnemyImage",value:function(){}},{key:"takeDamage",value:function(e){var t=this;this.scene.tweens.add({targets:this.enemyImage,x:20,duration:150,ease:"Power2",yoyo:!0,loop:!1}),this.enemy.currentHealth<=0?this.scene.time.addEvent({delay:500,callback:function(){t.death()},loop:!1}):(this.enemy.currentHealth-=e,this.healthBar.update())}},{key:"death",value:function(){this.scene.cardTarget=!1,this.destroy()}},{key:"heal",value:function(e){this.enemy.currentHealth<this.enemy.maxHealth&&(this.enemy.currentHealth+e>=this.enemy.maxHealth?this.enemy.currentHealth=this.enemy.maxHealth:this.enemy.currentHealth+=e),this.healthBar.update()}},{key:"doRandomAction",value:function(){}}]),t}();function He(e){return(He="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Re(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=[],r=!0,o=!1,i=void 0;try{for(var a,c=e[Symbol.iterator]();!(r=(a=c.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){o=!0,i=e}finally{try{r||null==c.return||c.return()}finally{if(o)throw i}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function Be(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){We(e,t,n[t])})}return e}function We(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ie(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Me(e,t){return!t||"object"!==He(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Le(e){return(Le=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Ne(e,t){return(Ne=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var ze=function(e){function t(){var e;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(e=Me(this,Le(t).call(this,{key:"Game"}))).player={hp:80,armor:0,strength:0,dexterity:6,buffs:[],currentMana:333,maxMana:3,relics:[],drawAmount:10,maxHandSize:10,isTurn:!0},e.playerDeck={},e.drawPile={},e.discardPile={},e.hand={},e.handArray=[],e.enemies=[],e.cardTarget=!1,e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ne(e,t)}(t,o.a.Scene),function(e,t,n){t&&Ie(e.prototype,t),n&&Ie(e,n)}(t,[{key:"createPlayerDeck",value:function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Be({},F),t=0,n=Object.entries(e);t<n.length;t++)for(var r=Re(n[t],2),o=r[0],i=r[1],a=0;a<i;a++){var c=Q();this.playerDeck["".concat(o,"_").concat(c)]=Be({},L[o]),this.playerDeck["".concat(o,"_").concat(c)].id=c,this.playerDeck["".concat(o,"_").concat(c)].ref="".concat(o,"_").concat(c)}}},{key:"addCardToPlayerDeck",value:function(e){this.playerDeck=Be({},this.playerDeck);var t=Q();this.playerDeck["".concat(e,"_").concat(t)]=Be({},L[cardName]),this.playerDeck["".concat(e,"_").concat(t)].id=t,this.playerDeck["".concat(e,"_").concat(t)].ref="".concat(e.refName,"_").concat(t)}},{key:"createDrawPile",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Be({},this.playerDeck);this.drawPileDisplay=new se(this,100,this.dimensions.height-150),this.discardPileDisplay=new pe(this,this.dimensions.width-100,this.dimensions.height-150),Object.keys(t).sort(function(e,t){return Math.random()-.5}).forEach(function(n){e.drawPile[n]=t[n]})}},{key:"discard",value:function(e){var t=Be({},e);this.discardPile=Be({},this.discardPile),this.discardPile[e.ref]=t,delete this.hand[e.ref],this.drawPileDisplay.updateDrawPileCounter(),this.discardPileDisplay.updateDiscardPileCounter()}},{key:"drawCardFromDrawPile",value:function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.player.drawAmount;e>0&&Object.keys(this.hand).length<=this.player.maxHandSize;){var t=Object.keys(Be({},this.drawPile));0===Object.entries(this.drawPile).length&&(this.shuffleDiscardToDrawPile(),t=Object.keys(Be({},this.drawPile)));var n=t[t.length-1];this.hand[n]=this.drawPile[n],this.handArray.push(new ne(this,this.drawPileDisplay.x,this.drawPileDisplay.y,this.drawPile[n],!0)),delete this.drawPile[n],e-=1}this.manageHand(),this.drawPileDisplay.updateDrawPileCounter()}},{key:"shuffleDiscardToDrawPile",value:function(){var e=this;Object.keys(Be({},this.discardPile)).sort(function(e,t){return Math.random()-.5}).forEach(function(t){e.drawPile[t]=e.discardPile[t]}),this.discardPile={}}},{key:"manageHand",value:function(){var e=this,t=this.dimensions.width/2-100*Math.ceil(this.handArray.length/2),n=this.dimensions.height,r=-4*this.handArray.length;this.handArray.forEach(function(o,i){t+=100,n+=i>=e.handArray.length/2?20:-20,r+=8,o.handX=t,o.handY=n,o.handAngle=r,o.angle=o.handAngle,e.tweens.add({duration:150,targets:o,x:t,y:n,angle:r,repeat:0,ease:"Sine.easeInOut"})})}},{key:"startTurn",value:function(){this.player.isTurn=!0,this.startTurnHook(),this.drawCardFromDrawPile()}},{key:"discardHand",value:function(){var e=this;Object.keys(this.hand).forEach(function(t,n){e.handArray[n].destroy(),e.discard(e.hand[t])})}},{key:"endTurn",value:function(){this.player.isTurn&&(this.player.isTurn=!1),this.discardHand()}},{key:"startTurnHook",value:function(){}},{key:"create",value:function(){this.dimensions={width:this.sys.game.canvas.width,height:this.sys.game.canvas.height},this.logo=new _(this,400,150),this.tweens.add({targets:this.logo,y:450,duration:2e3,ease:"Power2",yoyo:!0,loop:-1}),this.createPlayerDeck(),this.createDrawPile(),this.enemies.push(new Ae(this,1e3,200,"goblin")),this.enemies.push(new Ae(this,1150,200,"goblin")),this.drawCardFromDrawPile();this.add.text(16,16,"Drag the sprite. Overlapping: false",{fill:"#ffffff"})}},{key:"update",value:function(){this&&0!==this.input._draggable.length&&this.input._draggable.forEach(function(e){e.update()})}}]),t}();function Fe(e){return(Fe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ye(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Je(e,t){return!t||"object"!==Fe(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Xe(e){return(Xe=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Ue(e,t){return(Ue=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var qe=function(e){function t(){var e;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(e=Je(this,Xe(t).call(this,{key:"DrawPileScene"}))).cardList=[],e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ue(e,t)}(t,o.a.Scene),function(e,t,n){t&&Ye(e.prototype,t),n&&Ye(e,n)}(t,[{key:"init",value:function(e){this.gameScene=e,this.player=e.player,this.drawPile=e.drawPile}},{key:"preload",value:function(){}},{key:"create",value:function(){var e=this;this.cameras.main.backgroundColor.setTo(0,0,0,220);var t=0,n=0;Object.keys(this.drawPile).forEach(function(r){var o=e.gameScene.dimensions.width-300>=200*t?200*(t+=1):200*(t=1),i=1!==t?225*n:225*(n+=1);e.cardList.push(new ne(e,o,i,e.drawPile[r],!1))}),this.input.on("pointerdown",function(t){e.gameScene.scene.resume("Game"),e.scene.stop()})}},{key:"update",value:function(e,t){}}]),t}();function Ke(e){return(Ke="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Qe(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ve(e,t){return!t||"object"!==Ke(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Ze(e){return(Ze=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function $e(e,t){return($e=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var et=function(e){function t(){var e;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(e=Ve(this,Ze(t).call(this,{key:"DiscardPileScene"}))).cardList=[],e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&$e(e,t)}(t,o.a.Scene),function(e,t,n){t&&Qe(e.prototype,t),n&&Qe(e,n)}(t,[{key:"init",value:function(e){this.gameScene=e,this.player=e.player,this.discardPile=e.discardPile}},{key:"preload",value:function(){}},{key:"create",value:function(){var e=this;this.cameras.main.backgroundColor.setTo(0,0,0,220);var t=0,n=0;Object.keys(this.discardPile).forEach(function(r){var o=e.gameScene.dimensions.width-300>=200*t?200*(t+=1):200*(t=1),i=1!==t?225*n:225*(n+=1);e.cardList.push(new ne(e,o,i,e.discardPile[r],!1))}),this.input.on("pointerdown",function(t){e.gameScene.scene.resume("Game"),e.scene.stop()})}},{key:"update",value:function(e,t){}}]),t}(),tt={type:o.a.AUTO,parent:"phaser-example",width:window.innerWidth-25,height:window.innerHeight-25,scene:[P,ze,qe,et]};new o.a.Game(tt)},527:function(e,t,n){e.exports=n.p+"assets/images/logo.png"},528:function(e,t,n){e.exports=n.p+"assets/images/mushroom2.png"},529:function(e,t,n){e.exports=n.p+"assets/images/cardBackground.png"},530:function(e,t,n){e.exports=n.p+"assets/images/pileBg.png"},531:function(e,t,n){e.exports=n.p+"assets/images/Goblin.png"},532:function(e,t,n){e.exports=n.p+"assets/images/Goobler.png"}});
//# sourceMappingURL=bundle.1a30621838604ace4b58.js.map